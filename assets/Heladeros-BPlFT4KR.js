import{r as a,j as e}from"./index-DnIkRolS.js";import{G as o}from"./Grid-IelTXcD1.js";import{T as i}from"./Typography-CfsH5zdM.js";import{P as j,a as g}from"./Button-BpD1F6SI.js";import{A as W}from"./Alert-CTdHQ_EP.js";import{f as v}from"./TextField-CfisxxK2.js";import"./useForkRef-_vsIMq9w.js";import"./useSlot-CCO6SuW7.js";import"./IconButton-7CARgz9E.js";import"./Portal-7hzC-RGP.js";const G=()=>{const[s,p]=a.useState(""),[c,f]=a.useState(""),[u,b]=a.useState(""),[d,h]=a.useState([]),[l,y]=a.useState(!1),[H,m]=a.useState("");a.useEffect(()=>{const r=JSON.parse(localStorage.getItem("heladeros")||"[]");h(r)},[]);const N=()=>{if(m(""),!s||!c||!u)return;if(l){const n=d.map(S=>S.codigo===s?{codigo:s,nombre:c,fechaNacimiento:u}:S);h(n),localStorage.setItem("heladeros",JSON.stringify(n)),x();return}if(d.some(n=>n.codigo===s)){m("No se pueden registrar dos heladeros con el mismo c칩digo.");return}const r={codigo:s,nombre:c,fechaNacimiento:u},t=[...d,r];h(t),localStorage.setItem("heladeros",JSON.stringify(t)),x()},C=r=>{p(r.codigo),f(r.nombre),b(r.fechaNacimiento),y(!0),m("")},R=r=>{const t=d.filter(n=>n.codigo!==r);h(t),localStorage.setItem("heladeros",JSON.stringify(t)),x()},x=()=>{p(""),f(""),b(""),y(!1),m("")};return e.jsxs(o,{container:!0,spacing:3,sx:{padding:3},children:[e.jsx(o,{item:!0,xs:12,children:e.jsx(i,{variant:"h4",gutterBottom:!0,sx:{textAlign:"center",fontWeight:"bold"},children:"Gestionar Heladeros"})}),e.jsx(o,{item:!0,xs:12,children:e.jsxs(j,{sx:{padding:3,borderRadius:2,boxShadow:3},children:[e.jsx(i,{variant:"h6",gutterBottom:!0,sx:{color:"#00796b",fontWeight:"bold"},children:l?"Modificar Heladero":"A침adir Nuevo Heladero"}),H&&e.jsx(W,{severity:"error",sx:{mb:2},children:H}),e.jsx("form",{onSubmit:r=>{r.preventDefault(),N()},children:e.jsxs(o,{container:!0,spacing:2,children:[e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(v,{label:"C칩digo del Heladero",variant:"outlined",fullWidth:!0,value:s,onChange:r=>p(r.target.value),disabled:l})}),e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(v,{label:"Nombre del Heladero",variant:"outlined",fullWidth:!0,value:c,onChange:r=>f(r.target.value)})}),e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(v,{label:"Fecha de Nacimiento",variant:"outlined",type:"date",fullWidth:!0,value:u,onChange:r=>b(r.target.value),InputLabelProps:{shrink:!0}})}),e.jsxs(o,{item:!0,xs:12,children:[e.jsx(g,{variant:"contained",color:"primary",type:"submit",fullWidth:!0,sx:{backgroundColor:"#00796b","&:hover":{backgroundColor:"#004d40"},borderRadius:2,padding:"12px"},children:l?"Modificar Heladero":"Registrar Heladero"}),l&&e.jsx(g,{variant:"outlined",color:"secondary",onClick:x,fullWidth:!0,sx:{mt:1},children:"Cancelar"})]})]})})]})}),e.jsx(o,{item:!0,xs:12,children:e.jsxs(j,{sx:{padding:3,borderRadius:2,boxShadow:3},children:[e.jsx(i,{variant:"h6",gutterBottom:!0,sx:{color:"#00796b",fontWeight:"bold"},children:"Heladeros Registrados"}),e.jsx(o,{container:!0,spacing:2,children:d.length===0?e.jsx(i,{variant:"body1",sx:{width:"100%"},children:"No hay heladeros registrados."}):d.map((r,t)=>e.jsx(o,{item:!0,xs:12,children:e.jsxs(j,{sx:{padding:2,marginBottom:2,borderRadius:2,boxShadow:1,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{children:[e.jsx(i,{variant:"body1",children:`C칩digo: ${r.codigo}`}),e.jsx(i,{variant:"body1",children:`Nombre: ${r.nombre}`}),e.jsx(i,{variant:"body1",children:`Fecha de Nacimiento: ${r.fechaNacimiento}`})]}),e.jsxs("div",{children:[e.jsx(g,{color:"primary",onClick:()=>C(r),sx:{marginRight:1},children:"Modificar"}),e.jsx(g,{color:"error",onClick:()=>R(r.codigo),children:"Eliminar"})]})]})},t))})]})})]})};export{G as default};
